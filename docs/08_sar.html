<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>CASA0023 - Remote Sensing Learning Diary - 8&nbsp; Synthetic Aperture Radar (SAR)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./99_references.html" rel="next">
<link href="./07_accuracy.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="site_libs/quarto-contrib/videojs/video.min.js"></script>
<link href="site_libs/quarto-contrib/videojs/video-js.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./08_sar.html"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Synthetic Aperture Radar (SAR)</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Soki Kimura’s Remote Sensing Learning Diary</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/sokimura39/RemoteSensingDiary" rel="" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
    <a href="https://www.linkedin.com/in/soki-kimura/" rel="" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-linkedin"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Getting Started with Remote Sensing</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02_portfolio.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Portfolio</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03_rs_data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Remote Sensing Data Manipulation</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04_policy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Policy Implications</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05_gge.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Google Earth Engine</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06_classification.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Classification</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07_accuracy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Accuracy and Sub- / Super-pixel analysis</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08_sar.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Synthetic Aperture Radar (SAR)</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./99_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#summary" id="toc-summary" class="nav-link active" data-scroll-target="#summary"><span class="header-section-number">8.1</span> Summary</a>
  <ul class="collapse">
  <li><a href="#overview" id="toc-overview" class="nav-link" data-scroll-target="#overview"><span class="header-section-number">8.1.1</span> Overview</a></li>
  <li><a href="#polarisation" id="toc-polarisation" class="nav-link" data-scroll-target="#polarisation"><span class="header-section-number">8.1.2</span> Polarisation</a></li>
  <li><a href="#interferometry" id="toc-interferometry" class="nav-link" data-scroll-target="#interferometry"><span class="header-section-number">8.1.3</span> Interferometry</a></li>
  </ul></li>
  <li><a href="#applications" id="toc-applications" class="nav-link" data-scroll-target="#applications"><span class="header-section-number">8.2</span> Applications</a></li>
  <li><a href="#reflection" id="toc-reflection" class="nav-link" data-scroll-target="#reflection"><span class="header-section-number">8.3</span> Reflection</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Synthetic Aperture Radar (SAR)</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="summary" class="level2" data-number="8.1">
<h2 data-number="8.1" class="anchored" data-anchor-id="summary"><span class="header-section-number">8.1</span> Summary</h2>
<section id="overview" class="level3" data-number="8.1.1">
<h3 data-number="8.1.1" class="anchored" data-anchor-id="overview"><span class="header-section-number">8.1.1</span> Overview</h3>
<p>Synthetic Aperture Radar is an active sensor that actively transmits electromagnetic waves and captures the reflected waves to observe the land covers of the earth.</p>
<p>Unlike optical imagery which is passive imagery, SAR data can detect surface characteristics in different ways, by utilising the difference in polarisation and phase in the transmission and receiving signals. This also means observations are possible during nighttime and through clouds - leading to a more consistent observation independent of the conditions that may affect optical imagery observations.</p>
<p><strong>Synthetic</strong> refers to the way waves are detected. Spatial resolution correlates with the size of the antenna, but since it was not practical to have a large-size antenna in space, the movement of the satellite was utilised to emulate a longer antenna.</p>
</section>
<section id="polarisation" class="level3" data-number="8.1.2">
<h3 data-number="8.1.2" class="anchored" data-anchor-id="polarisation"><span class="header-section-number">8.1.2</span> Polarisation</h3>
<p>Polarisation is the orientation of the electromagnetic fields in relation to the direction of the wave - this can be classified as either <strong>horizontal</strong> or <strong>vertical</strong>.</p>
<div class="quarto-video"><video id="video_shortcode_videojs_video1" class="video-js vjs-default-skin vjs-fluid" controls="" preload="auto" data-setup="{}" title=""><source src="https://svs.gsfc.nasa.gov/vis/a000000/a004500/a004580/EMWaveLinear_tourX2Oblique.HD1080i_p30.mp4"></video></div>
<p>Video illustration of electromagnetic waves. Video sourced from <span class="citation" data-cites="nasasscientificvisualisationstudio2017">NASA’s Scientific Visualisation Studio (<a href="99_references.html#ref-nasasscientificvisualisationstudio2017" role="doc-biblioref">2017</a>)</span></p>
<p>A SAR satellite can transmit and receive horizontal and vertical waves. The four combinations of transmission and reception possible as follows:</p>
<ul>
<li><strong>VV</strong>: Vertical transmission, Vertical reception</li>
<li><strong>VH</strong>: Vertical transmission, Horizontal reception</li>
<li><strong>HV</strong>: Horizontal transmission, Vertical reception</li>
<li><strong>HH</strong>: Horizontal transmission, Horizontal reception</li>
</ul>
<p>HV and VH - those with different orientation for transmission and reception are called <em>cross-polarised</em> reflectance.</p>
<p>Different land covers reflect them in different behaviours - this enables us to identify the land covers.</p>
<table class="table">
<caption>Scattering strengths <span class="math inline">\(|S|\)</span> of different land covers</caption>
<colgroup>
<col style="width: 33%">
<col style="width: 33%">
<col style="width: 33%">
</colgroup>
<thead>
<tr class="header">
<th>Type</th>
<th>Explanation</th>
<th>Scattering Strength</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Rough surface scattering</td>
<td>Reflection from bare soil or water - most sensitive to VV</td>
<td><span class="math inline">\(|S_{VV}| &gt; |S_{HH}| &gt; |S_{VH}|, |S_{HV}|\)</span></td>
</tr>
<tr class="even">
<td>Double bounce scattering</td>
<td>Reflection caused by buildings or standing structures, bouncing twice on the ground and an upright surface - most sensitive to HH</td>
<td><span class="math inline">\(|S_{HH}| &gt; |S_{VV}| &gt; |S_{VH}|, |S_{HV}|\)</span></td>
</tr>
<tr class="odd">
<td>Volume scattering</td>
<td>Reflections from leaves or forest canopy - most sensitive to VH or HV</td>
<td><span class="math inline">\(|S_{VH}|, |S_{HV}| &gt; |S_{VV}|, |S_{HH}|\)</span></td>
</tr>
</tbody>
</table>
<p>The different types of reflections are illustrated below.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://www.earthdata.nasa.gov/s3fs-public/imported/SARPolarization.jpg?VersionId=mSa4j.XwWY8P_9Y0fxw9Ycp0FjGxLDaY" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Different types of scattering occuring at different land covers <span class="citation" data-cites="nasaearthsciencedatasystems2020a">(<a href="99_references.html#ref-nasaearthsciencedatasystems2020a" role="doc-biblioref">NASA Earth Science Data Systems 2020</a>)</span></figcaption>
</figure>
</div>
<p>One extra point to note is that the wavelength also affects the reflection. A shorter wavelengths will be easily scattered by top layers of surface cover, while the longer wavelengths are capable to penetrate through. If observing forest canopy, longer bands might penetrate the leaves onto the ground, leading in more double bounce scattering than shorter wavelengths returning volume scattering.</p>
</section>
<section id="interferometry" class="level3" data-number="8.1.3">
<h3 data-number="8.1.3" class="anchored" data-anchor-id="interferometry"><span class="header-section-number">8.1.3</span> Interferometry</h3>
<p>Interferometry is a field of SAR imagery analysis making use of the difference in phases between observations - detecting changes in the distance between the satellite and the reflecting surface. If observations from the same orbital position received had different phases, this indicates there is a change in the position of the surface. This can be detected in the same magnitude as the wavelengths - a few centimeters’ change is enough to be able to be detected by SAR imagery. This is pretty wild - a slight difference in the surface can be detected from a satellite travelling at tremendous speeds some hundred kilometers away.</p>
<p>In the Google Earth Engine dataset, the phase data is not recorded - so we must use other tools to explore this feature.</p>
</section>
</section>
<section id="applications" class="level2" data-number="8.2">
<h2 data-number="8.2" class="anchored" data-anchor-id="applications"><span class="header-section-number">8.2</span> Applications</h2>
<p>One of the major applications of SAR is flood detection, because of the signature low backscatter of water surfaces. <span class="citation" data-cites="kwak2017">Kwak, Yun, and Iwami (<a href="99_references.html#ref-kwak2017" role="doc-biblioref">2017</a>)</span> explored the use of SAR data to create an improved algorithm for flood detection, taking the 2015 flooding of River Kinu in Japan as a case study. The flooding in urban areas are difficult to detect than in the rural areas, because of the high density of buildings and other artifacts. They have created an algorithm that incorporates the orientation of the building in question - which led to a better outcome in detecting flooded buildings. One potential limitation of this study is that it only takes one image before and after the flooding event - any temporary changes in the environment may affect the results of change detection; a better practice would have been to use multiple imageries before the disaster to normalise the conditions first.</p>
<p>An application using the interferometry of SAR is the analysis of landslides, as conducted by <span class="citation" data-cites="squarzoni2020">Squarzoni et al. (<a href="99_references.html#ref-squarzoni2020" role="doc-biblioref">2020</a>)</span>. The issue with identifying changes in sparcely inhabited areas is that the lack of (unmoving) artificial objects make it difficult to identify the changes, and the impact of changing vegetation or snow cover leads to decorrelation, or inconsistency between different observations. This research has overcome these difficulties using correction techniques, and have successfully analysed the slow-moving landslides in the Apennines.</p>
<p>Both of these research addresses difficulties when analysing SAR imagery. In order to maximise the information achievable from SAR imagery, many methods of correction and calibration must be considered. One thing to note however, is that even these users of cutting-edge techniques do not take multiple before-event images to compensate for temporary changes - whether it be lack of valid data or failure of consideration, I feel it is important to follow the basic procedures when conducting research.</p>
</section>
<section id="reflection" class="level2" data-number="8.3">
<h2 data-number="8.3" class="anchored" data-anchor-id="reflection"><span class="header-section-number">8.3</span> Reflection</h2>
<p>Synthetic Aperture Radar being an active radar has many different characteristics compared to optical earth observations, which I feel adds a different layer to the world of remote sensing.</p>
<p>The part that surprised me the most is the fact that you can identify mere centimeters of terrain change from a satellite! The first application that came to my mind was the detection of earthquakes and disasters - a field that I feel remote sensing can play a vital role when it comes to immediate information collection. The Japanese earthquake that happened just before I started this module is still a big issue, and I am not surprised to see a lot of work using SAR data around the affected areas.</p>
<hr>
<p>As a wrap-up of the whole module where I have been exposed to the whole new world of earth observation data, I am fascinated by the tremendous amount of data that is collected and available for analysis for the whole globe. Have been doing planning, civil engineering and a bit of policy making and international affairs related stuff for quite some time now, but never have I seen any inputs from this field - this may just be confessing how unaware I was, but at the same time I feel we are not getting the most out of this to inform decisions. Hope to bridge this gap in my future career!</p>


<div id="refs" class="references csl-bib-body hanging-indent" role="list" style="display: none">
<div id="ref-kwak2017" class="csl-entry" role="listitem">
Kwak, Youngjoo, Sang-ho Yun, and Yoichi Iwami. 2017. <span>“A New Approach for Rapid Urban Flood Mapping Using <span>ALOS-2</span>/<span>PALSAR-2</span> in 2015 <span>Kinu River Flood</span>, <span>Japan</span>.”</span> In <em>2017 <span>IEEE International Geoscience</span> and <span>Remote Sensing Symposium</span> (<span>IGARSS</span>)</em>, 1880–83. <a href="https://doi.org/10.1109/IGARSS.2017.8127344">https://doi.org/10.1109/IGARSS.2017.8127344</a>.
</div>
<div id="ref-nasaearthsciencedatasystems2020a" class="csl-entry" role="listitem">
NASA Earth Science Data Systems. 2020. <span>“What Is <span>Synthetic Aperture Radar</span>? <span></span> <span>Earthdata</span>.”</span> Backgrounder. https://www.earthdata.nasa.gov/learn/backgrounders/what-is-sar; Earth Science Data Systems, NASA.
</div>
<div id="ref-nasasscientificvisualisationstudio2017" class="csl-entry" role="listitem">
NASA’s Scientific Visualisation Studio. 2017. <span>“<span>NASA Scientific Visualization Studio</span> <span></span> <span>Electromagnetic Waves</span> and <span>Polarization</span>.”</span> <em>SVS</em>. https://svs.gsfc.nasa.gov/4580.
</div>
<div id="ref-squarzoni2020" class="csl-entry" role="listitem">
Squarzoni, Gabriela, Benedikt Bayer, Silvia Franceschini, and Alessandro Simoni. 2020. <span>“Pre- and Post-Failure Dynamics of Landslides in the <span>Northern Apennines</span> Revealed by Space-Borne Synthetic Aperture Radar Interferometry (<span>InSAR</span>).”</span> <em>Geomorphology</em> 369 (November): 107353. <a href="https://doi.org/10.1016/j.geomorph.2020.107353">https://doi.org/10.1016/j.geomorph.2020.107353</a>.
</div>
</div>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./07_accuracy.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Accuracy and Sub- / Super-pixel analysis</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./99_references.html" class="pagination-link">
        <span class="nav-page-text">References</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<script>videojs(video_shortcode_videojs_video1);</script>



</body></html>